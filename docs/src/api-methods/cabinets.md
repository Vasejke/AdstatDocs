# Работа с кабинетами

## <span id="cabinets">Метод получения кабинетов</span>

:::info
_GET_ `accounts/telegram/names`

Пример использования:
```http request
https://client.adstat.pro/api/accounts/telegram/names
```

__Параметры:__

В заголовках HTTP запроса необходимо передать `<access_token>` в формате:
+ `Authorization: "Bearer <access_token>" `

__Пример успешного ответа:__
```json
[
  {
    "account_uid": "string",
    "name": "string",
    "balance": 0,
    "mode": "string",
    "is_audience_allowed": false
  }
]
```

__Описание параметров успешного ответа:__

| Параметр| Описание|
|---------|----------|
| account_uid | Идентификатор кабинета|
| name| Наименование кабинета |
| balance| Баланс кабинета |
| mode| Внутренний параметр для технических нужд|
| is_audience_allowed| Внутренний параметр для технических нужд |
:::




## Метод получения информации по отдельному кабинету
:::info
_GET_ `api/accounts/telegram/{account_uid}`

Пример использования:
```http request
https://client.adstat.pro/api/accounts/telegram/ACC0000
```

__Параметры:__

В заголовках HTTP запроса необходимо передать `<access_token>` в формате:
+ `Authorization: "Bearer <access_token>" `

В URL метода необходимо передать _Идентификатор кабинета_ - `account_uid`, который можно узнать из [списка всех кабинетов](#метод-получения-кабинетов)

__Пример успешного ответа:__
```json
  {
    "account_uid": "string",
    "name": "string",
    "balance": 0,
    "mode": "string",
    "is_audience_allowed": false
  }
```

__Описание параметров успешного ответа:__

| Параметр| Описание|
|---------|----------|
| account_uid | Идентификатор кабинета|
| name| Наименование кабинета |
| balance| Баланс кабинета |
| mode| Внутренний параметр для технических нужд|
| is_audience_allowed| Внутренний параметр для технических нужд |
:::

## Метод получение подробной информации по кабинетам

:::info
_GET_ `accounts/telegram/?query-params`

Пример использования:
```http request
https://client.adstat.pro/api/accounts/telegram/?limit=50&offset=0
```
__Описание query-параметров:__

| Параметр      | Тип     | Описание                                             |
|---------------|---------|------------------------------------------------------|
| account_name  | Строка  | Фильтрация кабинетов по названию кабинета.         |
| offset        | Число   | Смещение в результирующем списке кабинетов.         |
| limit         | Число   | Максимальное количество кабинетов в ответе.         |
| legal_name    | Строка  | Фильтрация кабинетов по юридическому названию.      |


__Пример успешного ответа:__
```json
  {
  "items": [
    {
      "account_id": "string",
      "account_name": "string",
      "status": "string",
      "balance_total": 0,
      "balance_available": 0,
      "balance_active": 0,
      "balance_spent": 0,
      "objects": [
        "string"
      ],
      "legal_name": "string",
      "category_key": "string",
      "category_name": "string"
    }
  ],
  "count": 0
}
```
__Описание параметров успешного ответа:__

| Поле                             | Тип     | Описание                                               |
|----------------------------------|---------|--------------------------------------------------------|
| items                            | Массив  | Список объектов с информацией о кабинетах.             |
| account_id        | Строка  | Уникальный идентификатор кабинета.                     |
| account_name      | Строка | Название кабинета.                                     |
| status            | Строка  | Статус кабинета. <br/> `active`, `inactive`            |
| balance_total     | Число | Общий баланс кабинета.                                 |
| balance_available | Число | Свободный баланс кабинета.                             |
| balance_active    | Число | Баланс остатка средств в объявлениях кабинета.         |
| balance_spent     | Число | Потраченный баланс кабинета.                           |
| objects           | Массив  | Список объектов рекламирования привязанных к кабинету. |
| legal_name        | Строка  | Юридическое название кабинета.                         |
| category_key      | Строка | Ключ категории кабинета.                               |
| category_name     | Строка | Название категории кабинета.                           |
| count             | Число   | Количество кабинетов в списке.                         |


:::
